<div class="container-fluid px-4 mt-4">
  <h2>User Permission</h2>
  <div class="d-flex justify-content-between mb-3">
    <div col-6 col-sm-4 col-md-3 col-lg-3 col-xl-2 col-xxl-2>
      <select
        id="roleSelect"
        class="form-select form-control-lg text-dark bg-transparent"
        (change)="changeUser($event)"
      >
        <option value="">Select User</option>
        @for(item of userList;track $index){
        <option value="{{ item.id }}">{{ item.firstName + ' ' +item.lastName }}</option>
        }
      </select>
    </div>
  </div>
  <div class="table-responsive table-container mb-4">
    <table class="table table-striped table-hover styled-table">
      <thead class="table-primary">
        <tr>
          <th>Sr.No</th>
          <th>Module</th>
          <th>Description</th>
          <th>View</th>
          <th>Add</th>
          <th>Edit</th>
          <th>Delete</th>
          <th>Download</th>
          <th>Upload</th>
        </tr>
      </thead>
      <tbody>
        @for(role of rolePageMappingData;track $index) {
        <tr>
          <td>{{ $index + 1 }}</td>
          <td>{{ role.moduleName }}</td>
          <td>{{ role?.moduleName }}</td>
          <td>
            <input
              type="checkbox"
              [(ngModel)]="role.view"
              [disabled]="!isMappingEditable()"
            />
          </td>
          <td>
            <input
              type="checkbox"
              [(ngModel)]="role.add"
              [disabled]="!isMappingEditable()"
            />
          </td>
          <td>
            <input
              type="checkbox"
              [(ngModel)]="role.edit"
              [disabled]="!isMappingEditable()"
            />
          </td>
          <td>
            <input
              type="checkbox"
              [(ngModel)]="role.delete"
              [disabled]="!isMappingEditable()"
            />
          </td>
          <td>
            <input
              type="checkbox"
              [(ngModel)]="role.download"
              [disabled]="!isMappingEditable()"
            />
          </td>
          <td>
            <input
              type="checkbox"
              [(ngModel)]="role.upload"
              [disabled]="!isMappingEditable()"
            />
          </td>
        </tr>
        }
      </tbody>
    </table>
  </div>
  <div class="text-end">
    <button
      type="button"
      class="btn btn-primary btn-md"
      (click)="updateRoleModulePermission()"
    >
      Update
    </button>
  </div>
</div>
<app-toaster></app-toaster>
<app-loader></app-loader>

