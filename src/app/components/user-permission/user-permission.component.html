<div class="container-fluid px-4 mt-4">
  <h2>User Permission</h2>
  <div class="d-flex justify-content-between mb-3">
    <div col-6 col-sm-4 col-md-3 col-lg-3 col-xl-2 col-xxl-2>
      <select id="roleSelect" class="form-select form-control-lg text-dark bg-transparent"
        (change)="changeUser($event)">
        <option value="">Select User</option>
        @for(item of userList;track $index){
        <option value="{{ item.id }}">{{ item.firstName + ' ' +item.lastName }}</option>
        }
      </select>
    </div>
  </div>
  <div class="table-responsive table-container mb-4">
    <table class="table table-striped table-hover styled-table">
      <thead class="table-primary">
        <tr>
          <th class="srno">Sr.No</th>
          <th class="moduleName">Module</th>
          <th class="description">Description</th>
          <th class="permission">View</th>
          <th class="permission">Add</th>
          <th class="permission">Edit</th>
          <th class="permission">Delete</th>
          <th class="permission">Download</th>
          <th class="permission">Upload</th>
        </tr>
      </thead>
      <tbody>
        @for(role of rolePageMappingData;track $index) {
        <tr>
          <td class="srno">{{ $index + 1 }}</td>
          <td>{{ role.moduleName }}</td>
          <td>{{ role?.moduleName }}</td>
          <td class="permission">
            <input type="checkbox" [(ngModel)]="role.view" [disabled]="!editable || disableUpdate" />
          </td>
          <td class="permission">
            <input type="checkbox" [(ngModel)]="role.add" [disabled]="!editable || disableUpdate" />
          </td>
          <td class="permission">
            <input type="checkbox" [(ngModel)]="role.edit" [disabled]="!editable ||disableUpdate" />
          </td>
          <td class="permission">
            <input type="checkbox" [(ngModel)]="role.delete" [disabled]="!editable || disableUpdate" />
          </td>
          <td class="permission">
            <input type="checkbox" [(ngModel)]="role.download" [disabled]="!editable || disableUpdate" />
          </td>
          <td class="permission">
            <input type="checkbox" [(ngModel)]="role.upload" [disabled]="!editable || disableUpdate" />
          </td>
        </tr>
        }
      </tbody>
    </table>
  </div>
  <div class="text-end">
    <button type="button" [disabled]="disableUpdate" class="btn btn-primary btn-md"
      (click)="updateRoleModulePermission()">
      Update
    </button>
  </div>
</div>
<app-toaster></app-toaster>
<app-loader></app-loader>